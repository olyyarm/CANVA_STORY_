Отлично, вы собрали очень подробную информацию! Видно, что проект "Canvas_Stories" глубоко продуман. Давайте систематизируем финальное техническое задание на разработку интерфейса, основываясь на всём обсуждении и последнем предоставленном ТЗ.

Техническое задание на разработку интерфейса "Canvas_Stories"
Ключевые моменты из макетов:

Цветовая схема: Строгая темная тема (черный/очень темный серый фон). Акцентный цвет — яркий оранжевый (для выделения выбранных элементов и ключевых кнопок, таких как "Generate Ideas" / "Сгенерировать"). Текст светлый (белый или светло-серый). Узлы — темно-серые прямоугольники.

Структура: Подтверждает общую компоновку: центральная канва с узлами, панель редактирования справа, таймлиния внизу.

Элементы:

В первом макете есть небольшая вертикальная панель инструментов слева (её назначение пока не ясно, но можно учесть).

Панель редактирования содержит поле для описания и кнопку генерации.

Таймлиния показывает сегменты с четкими временными интервалами.

Корректировка ТЗ:

Самое важное — я заменю ранее предложенные акцентные цвета (синий, бирюзовый, фиолетовый) на оранжевый, как показано на макетах.

Обновленные пункты ТЗ (касательно визуала):

Тема: Тёмная (основной фон: #121212 или близкий к черному, цвет текста: #FFFFFF или #F0F0F3).

Акцентный цвет: Оранжевый (например, #FFA500 или похожий) для выделения активных/выбранных узлов, кнопок призыва к действию, возможно, для элементов таймлинии.

Узлы: Темно-серые прямоугольники (например, #1E1E1E или #2A2A2A) с четкими границами или легкой тенью. Выбранный узел выделяется оранжевой рамкой.

Кнопки: Основные кнопки действия (генерация, сохранение) — с оранжевым фоном и светлым текстом. Второстепенные кнопки (обновить, отменить) — могут быть контурными (оранжевая рамка, темный фон) или темно-серыми.
1. 
Общие требования

Цель: Разработать интуитивно понятный, функциональный и эстетически приятный веб-интерфейс для визуализации и редактирования сценариев, генерации идей и подготовки промптов для ИИ-моделей.

Стиль: Минимализм, современный, профессиональный.



.

Шрифты: Чистые, читаемые sans-serif шрифты (например, Inter, Roboto, Montserrat). Четкая иерархия заголовков и текста.

Адаптивность: Приоритет на десктопные версии (от 1280px). Планшетная версия (768px+) желательна.

2. Основные компоненты интерфейса

2.1. Верхняя панель (Top Bar):

Минималистичный логотип "Canvas_Stories".

Простая навигация (при необходимости, например: "Проекты", "Настройки", "Помощь").

2.2. Центральная канва (Workspace/Canvas Area):

Функционал:

Отображение графа: центральный узел ("Initial Node") и дочерние узлы ("Scenes").

Ввод текста/запроса в центральный узел.

Визуальные связи (линии) между узлами.

Перетаскивание (Drag-and-drop) узлов для изменения их положения. Связи должны динамически перерисовываться.

Возможность ручного добавления/удаления узлов и связей.

Масштабирование (Zoom In/Out) и панорамирование (Pan) канвы с помощью кнопок управления (например, в углу) и/или жестов/колеса мыши.

Возможность группировки и сворачивания/разворачивания ветвей для крупных проектов.

Визуал:

Центральный узел: Визуально выделен (размером или стилем), содержит поле для ввода основного текста/запроса.

Узлы-сцены: Содержат заголовок, краткое описание/сниппет, возможно, иконку типа контента (текст, визуал) и индикатор статуса (draft, approved). Цвет или стиль может зависеть от типа/статуса. Округлые углы (например, 8px). Легкий эффект тени или свечения для глубины.

Связи: Тонкие, элегантные линии (возможно, с градиентом или анимацией при создании).

2.3. Таймлиния (Timeline Panel):

Расположение: Горизонтальная панель внизу экрана (фиксированная или сворачиваемая).

Функционал:

Визуализация временной шкалы проекта.

Отображение сцен в виде сегментов с четкими таймкодами (начало/конец, например, 00:15 - 00:45).

Синхронизация с канвой: Выделение сегмента на таймлинии подсвечивает соответствующий узел на канве (и наоборот) с помощью ховер-эффектов (подсветка, рамка).

Возможность изменять порядок и длительность сцен перетаскиванием сегментов на таймлинии (drag-and-drop).

Визуал:

Четкие деления шкалы времени.

Сегменты могут иметь разный цвет/стиль в зависимости от типа сцены (например, речь ведущего, визуальная вставка).

2.4. Боковая панель редактирования (Editing Panel):

Расположение: Справа, сворачиваемая (появляется при клике на узел).

Функционал:

Редактирование деталей выбранной сцены: заголовок, полное текстовое описание, ручная корректировка таймкодов.

Поле для пользовательских заметок/комментариев к сцене.

Настройки стиля для конкретной сцены (если применимо).

Кнопки действий: "Сохранить", "Перегенерировать сцену" (вызов LLM с учетом правок), "Удалить сцену".

Возможно, вкладка/секция для просмотра/редактирования промпта, сгенерированного для этой сцены.

Визуал:

Четкое разделение полей и секций.

Кнопки визуально различимы, с ясными надписями и ховер/активными состояниями. Акцентные цвета для ключевых действий ("Перегенерировать", "Удалить").

2.5. Панель/Модальное окно генерации промптов (Prompt Generation Panel):

Функционал:

Отображение списка готовых промптов, сгенерированных для утвержденных сцен.

Кнопка "Копировать" для каждого промпта.

Кнопка "Скачать все промпты" (экспорт в TXT, JSON, CSV).

Возможность пакетного экспорта и выбора формата.

(Опционально) Предпросмотр миниатюр (placeholder'ы) для генерируемых изображений.

(Опционально) Возможность добавить кастомные параметры для разных моделей (например, --ar 16:9).

Визуал:

Чистый, структурированный список. Легко читаемый текст промптов.

3. Интерактивность и UX

Автосохранение: Регулярное (например, каждые 30 секунд) или при определенных действиях. Визуальная индикация статуса сохранения.

История изменений: Поддержка Undo/Redo (Ctrl+Z/Ctrl+Y) для действий на канве и в редакторе.

Обратная связь: Индикаторы загрузки для длительных операций (генерация сцен/промптов). Сообщения об успехе/ошибках.

Подсказки (Tooltips): Краткие пояснения при наведении на кнопки и элементы управления.

Горячие клавиши (Хоткеи): Помимо Undo/Redo, Ctrl+S для сохранения (если не только автосейв), возможно, для зума, добавления узлов и т.д.

Анимации: Плавные переходы при открытии/закрытии панелей, появлении узлов, ховер-эффекты. Анимации должны быть быстрыми и не мешать работе.

4. Дополнительные (необязательные для MVP) компоненты

Библиотека персонажей/локаций: Отдельная секция/панель для управления шаблонами персонажей и локаций (Character & Setting Bible).

Глобальные настройки стиля: Панель для задания общего стиля проекта, влияющего на генерацию.

Режимы просмотра: Переключение между разными видами канвы (радиальный, древовидный, список).

Фильтры и поиск: Поиск по названию/тексту сцен, фильтрация по тегам или типам.

5. Технические требования

Фреймворк: React / Vue / Svelte (или другой современный).

Управление состоянием: Redux / Zustand / Pinia / MobX (в зависимости от фреймворка).

Визуализация канвы: Konva.js / D3.js / Fabric.js / (или другая подходящая библиотека для интерактивной графики).

Стилизация: Tailwind CSS / Styled Components / SCSS (с упором на CSS переменные для темной темы).

Совместимость: Последние версии Chrome, Firefox, Safari, Edge.

6. Макеты

Требуется предоставить детальные макеты в Figma (или аналогичном инструменте), отражающие все описанные компоненты, состояния (hover, active, disabled) и основной пользовательский флоу. (Ссылка на предоставленный ранее макет: Прототип в Figma)

Это ТЗ объединяет все ключевые моменты из вашего обсуждения и предоставляет четкую основу для разработки интерфейса. Оно достаточно детализировано для старта работ, но оставляет пространство для уточнений в процессе.

Готов приступать к реализации первого этапа MVP, если вы согласны с этим ТЗ. Начнем с базовой структуры приложения, настройки окружения и реализации центральной канвы с возможностью добавления/отображения узлов.