План обновления узлов и добавления выбора модели

Задача: Обновить дизайн узлов согласно референсам и добавить выбор LLM-модели в узел "Сценарий (ввод)".

Референсы: MAT/scenariy_generaciya_.png, MAT/SCENARY_REF.png

Список моделей: MAT/list_models.txt

Ключевые изменения дизайна:

Прямоугольная форма, закругленные углы, темный полупрозрачный фон, тонкая рамка.

Заголовок: Оранжевая иконка слева, жирный оранжевый текст названия.

Поля ввода: Темный фон, закругленные углы.

Узел "Сценарий (ввод)": Добавить поле "Стилизационный промпт", метку "Модель" (оранжевая), выпадающий список <select> с моделями.

Узел "СЦЕНАРИЙ ГЕНЕРАЦИЯ": Добавить кнопки "ГЕРОИ", "ЛОКАЦИИ", "НАСТРОЕНИЕ", кнопку "СЦЕНЫ (ГЕНЕРАЦИЯ)".

Стили: Акцент на оранжевый, темные тона фона, скругления.

План реализации:

Анализ src/App.tsx: Изучить текущую структуру рендеринга узлов.

Подготовка данных: Убедиться в доступности списка моделей и иконок (icon/).

Модификация JSX (src/App.tsx): Обновить структуру div, добавить <img>, <textarea>, <label>, <select>, <option>, кнопки.

Стилизация (Tailwind CSS / CSS): Применить классы Tailwind (rounded-lg, bg-gray-800, text-orange-500, font-bold и т.д.) в src/App.tsx. Возможно, добавить стили в src/index.css.

Добавление логики: Реализовать state и обработчики для нового поля и <select>. Убедиться, что выбранная модель используется в API-вызовах.

Визуализация плана (Mermaid):

graph TD
    A[Начало: Получен запрос на редизайн и добавление фичи] --> B(Анализ референсов и требований);
    B --> C{Сбор информации};
    C -- Прочитать список моделей --> D[Чтение MAT/list_models.txt];
    C -- Понять структуру узлов --> E[Анализ list_code_definition_names src/App.tsx];
    C -- Уточнить детали дизайна --> F[Запрос описания дизайна у пользователя];
    F -- Получены изображения --> G[Анализ изображений дизайна];
    D & E & G --> H(Разработка плана);
    H --> I{Этапы реализации};
    I -- 1. Анализ кода --> J[Изучение src/App.tsx];
    I -- 2. Подготовка --> K[Проверка иконок, подготовка списка моделей];
    I -- 3. Изменение разметки --> L[Модификация JSX в src/App.tsx: добавление иконок, полей, select];
    I -- 4. Стилизация --> M[Применение Tailwind CSS классов для соответствия дизайну];
    I -- 5. Логика --> N[Добавление state и обработчиков для нового поля и select];
    J & K & L & M & N --> O{Результат: Обновленный интерфейс узлов};
    O --> P(Запрос на переход в режим 'code' для имплементации);

## План: Ограничение размера текстового блока в узле "Сценарий Визуализация" (script_output)

**Задача:** Ограничить ширину текстового блока до 300px и высоту до 250px, добавив прокрутку при переполнении.

**План реализации:**

1.  **Изменить `src/App.tsx`**:
    *   Найти `div`, отображающий текст сценария (строка ~687, используется для `script_output` и `script_detail`).
    *   Добавить уникальный CSS-класс `scenario-output-text` к этому `div`.
    *   *Возможно*: Удалить Tailwind класс `h-full` из этого `div`, так как `max-height` в CSS будет иметь приоритет.

2.  **Изменить `src/index.css`**:
    *   Удалить дублирующиеся правила для `textarea` (строки 94-101).
    *   Добавить новое CSS-правило для класса `.scenario-output-text`:
        ```css
        .scenario-output-text {
          max-width: 300px;  /* Ограничение ширины */
          max-height: 250px; /* Ограничение высоты */
          overflow: auto;    /* Скролл при переполнении */
          margin-left: auto; /* Центрирование по горизонтали */
          margin-right: auto;/* Центрирование по горизонтали */
        }
        ```

**Следующий шаг:** Переключиться в режим "Code" для внесения изменений в файлы `src/App.tsx` и `src/index.css`.